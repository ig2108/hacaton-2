{"version":3,"sources":["webpack:///./js/templates/single-film.hbs","webpack:///./handelbars/watched-page.hbs","webpack:///./templates/main-page.hbs","webpack:///./services/server.js","webpack:///./js/scrollToTop.js","webpack:///./js/scrollTop.js","webpack:///./js/mapper.js","webpack:///./js/services/server.js","webpack:///./js/server.js","webpack:///./js/watched.js","webpack:///./js/inner_page.js","webpack:///./js/mainPage.js","webpack:///./js/preloader.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","id","call","poster_path","title","vote_average","vote_count","popularity","original_title","genres","overview","backdrop_path","img_path","axios","defaults","baseURL","KEY","scrollToTop","window","scrollTo","top","behavior","scrollTopButton","document","querySelector","documentElement","scrollHeight","scrollTop","clientHeight","addEventListener","classList","add","remove","mapper","items","map","list","toggleWatched","event","console","log","target","dir","textContent","contains","upperFnToRemove","upperFnToAdd","localListName","dataset","action","filmId","Number","addToWatched","notifyAction","arrayToWork","filmIdToAdd","url","filmsToWatched","JSON","parse","localStorage","getItem","get","then","find","filmTOWatch","push","setItem","stringify","lowerFnToRemove","filmIdToDelete","localList","film","arrayToLocal","filter","showWatchedFilms","refs","listWatch","innerHTML","filmPage","listArticle","searchInput","paginationBox","navBtns","filmsArray","insertAdjacentHTML","filmItem","watchedFilmsMarkup","join","libraryName","PNotify","success","text","animation","delay","stack","dir1","dir2","firstpos1","firstpos2","Mobile","swipeDismiss","styling","getFullInfo","currentTarget","result","filmData","item","markup","insertMarkup","reduce","genreString","genre","index","array","wordSeparator","length","name","filmTemplate","articleList","buttonNext","buttonPrev","paginationBoxInfo","warningBox","homeBtn","libraryBtn","watcheBtn","queueBtn","fetchArticlesCall","page","fetchArticles","API","createMarkup","catch","err","results","article","mainArticleTemplate","handleChangePage","e","preventDefault","printWarning","debounce","query","value","p","createElement","body","insertBefore","firstChild","onload","t","Date","getTime","before","getElementById","setTimeout","className","removeEventListener","arguments","callee","domReady","attachEvent","readyState","detachEvent"],"mappings":"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","file":"main.80a046f511acf863488e.js","sourcesContent":["var Handlebars = require(\"../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<section class=\\\"single-page\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":38},\"end\":{\"line\":1,\"column\":44}}}) : helper)))\n    + \"\\\">\\n  <div class=\\\"poster-wrapper\\\">\\n    <img src=\\\"https://image.tmdb.org/t/p/w400/\"\n    + alias4(((helper = (helper = helpers.poster_path || (depth0 != null ? depth0.poster_path : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":46},\"end\":{\"line\":3,\"column\":61}}}) : helper)))\n    + \"\\\" alt=\\\"movie poster image\\\" width=\\\"270\\\">\\n  </div>\\n  <div class=\\\"description-wrapper\\\">\\n    <h2 class=\\\"film-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":27},\"end\":{\"line\":6,\"column\":36}}}) : helper)))\n    + \"</h2>\\n    <div class=\\\"vote-wrapper\\\">\\n      <span class=\\\"titles vote-titles\\\">vote / votes: </span> <span class=\\\"votes-numbers\\\">\"\n    + alias4(((helper = (helper = helpers.vote_average || (depth0 != null ? depth0.vote_average : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":89},\"end\":{\"line\":8,\"column\":105}}}) : helper)))\n    + \" /\\n        \"\n    + alias4(((helper = (helper = helpers.vote_count || (depth0 != null ? depth0.vote_count : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":8},\"end\":{\"line\":9,\"column\":22}}}) : helper)))\n    + \"</span>\\n    </div>\\n    <div class=\\\"popularity-wrapper\\\">\\n      <span class=\\\"titles film-popularity\\\">popularity: </span> <span class=\\\"popularity-score\\\">\"\n    + alias4(((helper = (helper = helpers.popularity || (depth0 != null ? depth0.popularity : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":94},\"end\":{\"line\":12,\"column\":108}}}) : helper)))\n    + \"</span>\\n    </div>\\n\\n    <div class=\\\"original-film-wrapper\\\">\\n      <span class=\\\"titles original-film-titles\\\">original title: </span> <span\\n        class=\\\"original-film-name\\\">\"\n    + alias4(((helper = (helper = helpers.original_title || (depth0 != null ? depth0.original_title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":35},\"end\":{\"line\":17,\"column\":53}}}) : helper)))\n    + \"</span>\\n    </div>\\n\\n    <div class=\\\"film-genre-wrapper\\\">\\n      <span class=\\\"titles film-genre\\\">genre: </span> <span class=\\\"genre-list\\\">\"\n    + alias4(((helper = (helper = helpers.genres || (depth0 != null ? depth0.genres : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":78},\"end\":{\"line\":21,\"column\":88}}}) : helper)))\n    + \"</span>\\n    </div>\\n\\n    <h3>About</h3>\\n    <p class=\\\"film-description\\\">\"\n    + alias4(((helper = (helper = helpers.overview || (depth0 != null ? depth0.overview : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":32},\"end\":{\"line\":25,\"column\":44}}}) : helper)))\n    + \"</p>\\n    <div class=\\\"button-wrapper\\\">\\n      <button type=\\\"button\\\" class=\\\"video-icon button-icon\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":68},\"end\":{\"line\":27,\"column\":74}}}) : helper)))\n    + \"\\\" data-action=\\\"watched-films\\\">Add to\\n        watched</button>\\n      <button type=\\\"button\\\" class=\\\"calendar-icon button-icon\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":71},\"end\":{\"line\":29,\"column\":77}}}) : helper)))\n    + \"\\\" data-action=\\\"queue-films\\\">Add to\\n        queue</button>\\n    </div>\\n</section>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\r\\n<li class=\\\"films-list__item\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":38},\"end\":{\"line\":10,\"column\":44}}}) : helper)))\n    + \" data-name=\\\"\\\"\\\">\\r\\n  <img class=\\\"article-image\\\" src=\\\"https://image.tmdb.org/t/p/w400/\"\n    + alias4(((helper = (helper = helpers.backdrop_path || (depth0 != null ? depth0.backdrop_path : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":66},\"end\":{\"line\":11,\"column\":83}}}) : helper)))\n    + \"\\\" alt=\\\"movie poster image\\\">\\r\\n  <div>\\r\\n    <h2 class=\\\"film-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":27},\"end\":{\"line\":13,\"column\":36}}}) : helper)))\n    + \"</h2>\\r\\n  </div>\\r\\n  <div class=\\\"inner\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":30},\"end\":{\"line\":15,\"column\":36}}}) : helper)))\n    + \"\\\"></div>\\r\\n  <div class=\\\" vote\\\">\"\n    + alias4(((helper = (helper = helpers.vote_average || (depth0 != null ? depth0.vote_average : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":21},\"end\":{\"line\":16,\"column\":37}}}) : helper)))\n    + \"</div>\\r\\n</li>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"article-list__item\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":40},\"end\":{\"line\":1,\"column\":46}}}) : helper)))\n    + \"\\\">\\n  <img class=\\\"article-image\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.img_path || (depth0 != null ? depth0.img_path : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"img_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":34},\"end\":{\"line\":2,\"column\":46}}}) : helper)))\n    + \"\\\" alt=\\\"movie poster image\\\">\\n  <div>\\n    <h2 class=\\\"film-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":27},\"end\":{\"line\":4,\"column\":36}}}) : helper)))\n    + \"</h2>\\n  </div>\\n  <div class=\\\"inner\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":30},\"end\":{\"line\":6,\"column\":36}}}) : helper)))\n    + \"\\\"></div>\\n</li>\\n\";\n},\"useData\":true});","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst KEY = '5a24b7189a6caa5f12a9aa4d37534986';\n\nexport const getArticles = (page = 1) => {\n  const url = `/3/discover/movie?sort_by=popularity.desc&api_key=${KEY}&perPage=2language=en-US&page=${page}&&include_adult=false&total_results=12&total_pages=10`;\n  return axios.get(url);\n};\n\nexport const searchArticles = (query, page = 1) => {\n  const url = `/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=${page}&include_adult=false`;\n  return axios.get(url);\n};\n","const scrollToTop = () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n};\nexport default scrollToTop;\n","import scrollToTop from './scrollToTop';\nconst scrollTopButton = document.querySelector('.scrollTopButton');\nconst { scrollHeight, scrollTop, clientHeight } = document.documentElement;\n\nconst showButton = () => {\n  if (document.documentElement.scrollTop > 140) {\n    scrollTopButton.classList.add('show');\n  } else {\n    scrollTopButton.classList.remove('show');\n  }\n};\nscrollTopButton.addEventListener('click', scrollToTop);\nwindow.addEventListener('scroll', showButton);\n","const apiImgPath = 'https://image.tmdb.org/t/p/w400/';\nconst defaultImage = './images/default.jpg';\nconst imgUrl = 'https://i.ytimg.com/vi/VlsQC87i06w/maxresdefault.jpg';\nconst mapper = items => {\n  return items.map(({ id, backdrop_path, title }) => ({\n    id,\n    title,\n    backdrop_path,\n    img_path: backdrop_path ? `${apiImgPath}${backdrop_path}` : imgUrl,\n  }));\n};\nexport default mapper;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst KEY = '5a24b7189a6caa5f12a9aa4d37534986';\n\nexport const getArticles = (page = 1) => {\n\n  const url = `/3/discover/movie?sort_by=popularity.desc&api_key=${KEY}&language=en-US&page=${page}&&include_adult=false`;\n  return axios.get(url);\n};\n\nexport const w = () => null;\n\nexport const getMovieByID = id => {\n  const url = `/3/movie/${id}?api_key=${KEY}&language=en-US`;\n  return axios.get(url);\n};\n","import axios from 'axios';\r\naxios.defaults.baseURL = 'https://api.themoviedb.org';\r\nconst KEY = '5a24b7189a6caa5f12a9aa4d37534986';\r\n\r\nexport const getArticles = (page = 1) => {\r\n  const url = `/3/discover/movie?sort_by=popularity.desc&api_key=${KEY}&language=en-US&page=${page}&&include_adult=false`;\r\n  return axios.get(url);\r\n};\r\n\r\nexport const getMovieByID = id => {\r\n  const url = `/3/movie/${id}?api_key=9e008f5d338cd1f22f432e50e537417d&language=en-US`;\r\n  return axios.get(url);\r\n};\r\n","import * as API from './server';\r\nimport watchedFilmsMarkup from '../handelbars/watched-page.hbs';\r\nimport '../styles/watched.css';\r\nimport PNotify from '../../node_modules/pnotify/dist/es/PNotify.js';\r\n// import './node_modules/pnotidistfy//PNotifyBrightTheme.css';\r\nimport '../../node_modules/pnotify/dist/PNotifyBrightTheme.css';\r\nimport './inner_page';\r\nimport refs from './mainPage';\r\n\r\nconst list = document.querySelector('#watched_list');\r\n\r\nexport const toggleWatched = event => {\r\n  console.log(event.target);\r\n  console.dir(event.target.textContent);\r\n  if (event.target.classList.contains('added')) {\r\n    upperFnToRemove(event);\r\n    event.target.classList.remove('added');\r\n    event.target.classList.add('video-icon');\r\n    event.target.classList.remove('video-icon-remove');\r\n    event.target.textContent = 'Add to watched';\r\n  } else {\r\n    upperFnToAdd(event);\r\n    event.target.classList.add('added');\r\n    event.target.classList.remove('video-icon');\r\n    event.target.classList.add('video-icon-remove');\r\n    event.target.textContent = 'Remove from watched';\r\n  }\r\n};\r\n\r\nconst upperFnToAdd = event => {\r\n  const localListName = event.target.dataset.action;\r\n  const filmId = Number(event.target.dataset.id);\r\n\r\n  addToWatched(localListName, filmId);\r\n  notifyAction(localListName);\r\n};\r\n\r\nconst addToWatched = (arrayToWork, filmIdToAdd) => {\r\n  const filmsToWatched = JSON.parse(localStorage.getItem(arrayToWork)) || [];\r\n\r\n  API.getMovieByID(filmIdToAdd).then(({ data }) => {\r\n    if (!filmsToWatched.find(filmTOWatch => filmTOWatch.id === data.id)) {\r\n      filmsToWatched.push(data);\r\n      localStorage.setItem(arrayToWork, JSON.stringify(filmsToWatched));\r\n    }\r\n  });\r\n};\r\n\r\nconst upperFnToRemove = event => {\r\n  const localListName = event.target.dataset.action;\r\n  const filmId = Number(event.target.dataset.id);\r\n\r\n  lowerFnToRemove(localListName, filmId);\r\n};\r\n\r\nconst lowerFnToRemove = (arrayToWork, filmIdToDelete) => {\r\n  const localList = JSON.parse(localStorage.getItem(arrayToWork));\r\n  if (localList.find(film => film.id === filmIdToDelete)) {\r\n    const arrayToLocal = localList.filter(film => film.id !== filmIdToDelete);\r\n    localStorage.setItem(arrayToWork, JSON.stringify(arrayToLocal));\r\n  }\r\n};\r\n\r\nconst createMarkup = array => {\r\n  return array.map(filmItem => watchedFilmsMarkup(filmItem)).join('');\r\n};\r\n\r\n// refs.libraryBtn.addEventListener('click', showWatchedFilms);\r\n\r\nexport const showWatchedFilms = () => {\r\n  refs.listWatch.innerHTML = '';\r\n  refs.filmPage.innerHTML = ' ';\r\n  refs.listArticle.innerHTML = ' ';\r\n  refs.searchInput.classList.add('hidden');\r\n  refs.paginationBox.classList.add('hidden');\r\n  refs.navBtns.classList.remove('hidden');\r\n  const filmsArray = JSON.parse(localStorage.getItem('watched-films'));\r\n  if (filmsArray) {\r\n    list.insertAdjacentHTML('beforeend', createMarkup(filmsArray));\r\n  }\r\n};\r\n\r\nexport const notifyAction = libraryName => {\r\n  PNotify.success({\r\n    text: `Added to ${libraryName}`,\r\n    animation: 'fade',\r\n    delay: 2000,\r\n    stack: {\r\n      dir1: 'up',\r\n      dir2: 'left', // zPosition from the top left corner.\r\n      firstpos1: 90,\r\n      firstpos2: 90, // 90px from the top, 90px from the left.\r\n    },\r\n    Mobile: {\r\n      swipeDismiss: true,\r\n      styling: true,\r\n    },\r\n  });\r\n};\r\n","import * as API from './services/server';\nimport filmTemplate from './templates/single-film.hbs';\nimport refs from './mainPage';\nimport { toggleWatched } from './watched';\n\nimport '../css/styles.css';\nimport '../css/film-list.css';\n\nconst innerPage = document.querySelector('.add-queue');\nconst film = document.querySelector('.film');\nconst filmList = document.querySelector('.article-list');\nconst main = document.querySelector('.main');\n\nfunction concatGenreNamesBYComa(filmData) {\n  filmData.genres = filmData.genres.reduce(\n    (genreString, genre, index, array) => {\n      const wordSeparator = index === array.length - 1 ? '' : ',';\n      return `${genreString} ${genre.name}${wordSeparator}`;\n    },\n    '',\n  );\n}\n\nlet addBtn;\n\nfunction getFullInfo(event) {\n  if (event.target === event.currentTarget) {\n    return;\n  }\n  refs.listArticle.innerHTML = ' ';\n  refs.listWatch.innerHTML = ' ';\n  // refs.listWatch.style.gridTemplateRows = '0px';\n  refs.searchInput.classList.add('hidden');\n  refs.paginationBox.classList.add('hidden');\n  const filmId = event.target.dataset.id;\n  API.getMovieByID(filmId).then(result => {\n    const { data } = result;\n    const markup = buildMarkup(data);\n    insertMarkup(markup);\n    addBtn = document.querySelector('[data-action=\"watched-films\"]');\n    addBtn.addEventListener('click', toggleWatched);\n    // removeBtn = document.querySelector('[data-action=\"del\"]');\n    // removeBtn.addEventListener('click', upperFnToAdd);\n  });\n}\nfunction buildMarkup(item) {\n  concatGenreNamesBYComa(item);\n  return filmTemplate(item);\n}\nfunction insertMarkup(markup) {\n  film.insertAdjacentHTML('beforeend', markup);\n}\n// filmList.addEventListener('click', getFullInfo);\n\nexport default getFullInfo;\n","import * as API from '../services/server';\nimport mainArticleTemplate from '../templates/main-page.hbs';\nimport './scrollTop';\nimport scrollToTop from './scrollToTop';\nimport mapper from './mapper';\nimport { debounce } from 'debounce';\nimport getFullInfo from './inner_page';\nimport { showWatchedFilms } from './watched';\n\nconst refs = {\n  articleList: document.querySelector('.article-list'),\n  searchInput: document.querySelector('.searchInput'),\n  buttonNext: document.querySelector('.next'),\n  buttonPrev: document.querySelector('.prev'),\n  paginationBoxInfo: document.querySelector('.pagination-box-info'),\n  warningBox: document.querySelector('.warning-wrapper'),\n  homeBtn: document.querySelector('[data-action=\"home\"]'),\n  libraryBtn: document.querySelector('.js-library'),\n  listWatch: document.querySelector('#watched_list'),\n  listArticle: document.querySelector('.article-list'),\n  filmPage: document.querySelector('#film-page'),\n  paginationBox: document.querySelector('.pagination-box'),\n  navBtns: document.querySelector('.nav-btns'),\n  watcheBtn: document.querySelector('.js-watched'),\n  queueBtn: document.querySelector('.js-queue'),\n};\n\nexport default refs;\n\nrefs.articleList.addEventListener('click', getFullInfo);\nrefs.listWatch.addEventListener('click', getFullInfo);\nrefs.libraryBtn.addEventListener('click', showWatchedFilms);\nrefs.homeBtn.addEventListener('click', fetchArticlesCall);\ndocument.querySelector('.logo').addEventListener('click', fetchArticlesCall);\nrefs.watcheBtn.addEventListener('click', showWatchedFilms);\n\nlet page = 1;\n\nfunction fetchArticlesCall(event) {\n  fetchArticles();\n}\n\nconst fetchArticles = (page = 1) => {\n  refs.filmPage.innerHTML = '';\n  refs.listWatch.innerHTML = '';\n  refs.searchInput.classList.remove('hidden');\n  refs.paginationBox.classList.remove('hidden');\n  refs.navBtns.classList.add('hidden');\n  refs.paginationBoxInfo.textContent = page;\n  page === 1 ? refs.buttonPrev.classList.add('hiddenButton') : null;\n  API.getArticles(page)\n    .then(({ data }) => {\n      createMarkup(data);\n    })\n    .catch(err => console.log(err));\n};\n\nconst handleFetchSearchedArticles = ({ target }) => {\n  const query = target.value;\n  if (query) {\n    API.searchArticles(query)\n      .then(({ data }) => {\n        data.results.length ? createMarkup(data) : printWarning();\n      })\n      .catch(err => console.log(err));\n  } else {\n    refs.warningBox.classList.remove('warning-wrapper-show');\n    fetchArticles();\n  }\n};\n\nconst createMarkup = data => {\n  refs.warningBox.classList.remove('warning-wrapper-show');\n  refs.articleList.innerHTML = '';\n  const markup = mapper(data.results).map(article =>\n    mainArticleTemplate(article),\n  );\n  refs.articleList.insertAdjacentHTML('beforeend', markup.join(''));\n};\n\nconst handleChangePage = e => {\n  if (e.target.classList.contains('next')) {\n    page += 1;\n    refs.buttonPrev.classList.remove('hiddenButton');\n  } else if (e.target.classList.contains('prev')) {\n    page > 1 ? (page -= 1) : null;\n  }\n  fetchArticles(page);\n  refs.paginationBoxInfo.textContent = page;\n  e.preventDefault();\n  window.scrollTo({\n    top: 0,\n  });\n};\n\nconst printWarning = () => {\n  refs.warningBox.classList.add('warning-wrapper-show');\n};\n\nrefs.searchInput.addEventListener(\n  'input',\n  debounce(handleFetchSearchedArticles, 500),\n);\nrefs.buttonNext.addEventListener('click', handleChangePage);\nrefs.buttonPrev.addEventListener('click', handleChangePage);\nfetchArticles();\n","var p = document.createElement('div');\np.innerHTML =\n  \"<div style='z-index:100000' id='owlreporter-preloader'><div id='loader'></div><div class='loader-section section-left'></div><div class='loader-section section-right'></div></div>\";\ndocument.body.insertBefore(p, document.body.firstChild);\nfunction pageload() {\n  var e = new Date().getTime(),\n    t = (e - before) / 1e3,\n    n = document.getElementById('loadingtime');\n  n.innerHTML = 'Page load: ' + t + ' seconds.';\n}\n(window.onload = function() {\n  pageload();\n}),\n  setTimeout(function() {\n    document.body.className += ' loaded';\n  }, 1500),\n  document.addEventListener\n    ? document.addEventListener(\n        'DOMContentLoaded',\n        function() {\n          document.removeEventListener(\n            'DOMContentLoaded',\n            arguments.callee,\n            !1,\n          ),\n            domReady();\n        },\n        !1,\n      )\n    : document.attachEvent &&\n      document.attachEvent('onreadystatechange', function() {\n        'complete' === document.readyState &&\n          (document.detachEvent('onreadystatechange', arguments.callee),\n          domReady());\n      });\n"],"sourceRoot":""}